<?xml version="1.0" encoding="UTF-8"?>
<chapter>
  <title>入门教程</title>

  <section xreflabel="简介">
    <title>简介</title>

    <section>
      <title>概述</title>

      <para>UniEAP™
      Platform的RIA是基于dojo扩展开发的一套前台组件，还包括DataCenter数据格式传输协议。本手册介绍各个组件以及数据结构的API，并包括简单的示例代码。</para>
    </section>

    <section>
      <title>基本例子</title>

      <itemizedlist>
        <listitem>
          <para>RIA最基本的用法，如下例创建了一个RIA的ComboBox组件。</para>

          <programlisting> &lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;<co
              id="sdoctype"></co> 
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;RIA: Hello World!&lt;/title&gt;
    &lt;link href="ria3.3/unieap/themes/default/css/unieap.css"<co id="commoncss"></co>/&gt;
    &lt;script type="text/javascript" src="ria3.3/dojo/dojo.js" djConfig="parseOnLoad:true"&gt;&lt;/script&gt;<co
              id="dojojs"></co> 
    &lt;script type="text/javascript"&gt; 
      dojo.require("unieap.form.ComboBox");
    &lt;/script&gt; 
&lt;/head&gt; 
&lt;body class="unieap"<co id="unieapclass"></co>&gt; 
    &lt;div dojoType="unieap.form.ComboBox"&gt;&lt;/div&gt;<co id="scombobox"></co> 
&lt;/body&gt;
&lt;/html&gt;
          </programlisting>

          <calloutlist>
            <callout arearefs="sdoctype">
              <para>声明页面的DOCTYPE,推荐使用xhtml1-transitional标准。</para>
            </callout>

            <callout arearefs="commoncss">
              <para>引用unieap通用的css样式。</para>
            </callout>

            <callout arearefs="dojojs">
              <para>引用dojo.js是必须条件。其中parseOnLoad表示加载页面后是否立即解析标签定义的组件。</para>

              <para>在实际项目中js和css文件可能被压缩改名,或被封装在某个jsp中。</para>
            </callout>

            <callout arearefs="unieapclass">
              <para>皮肤选择,ria默认的皮肤是'unieap',实际项目中可以实现自己的皮肤。</para>
            </callout>

            <callout arch="" arearefs="scombobox">
              <para>使用标签创建一个Form组件ComboBox,这是RIA组件的最基本初始化方法。</para>
            </callout>
          </calloutlist>
        </listitem>

        <listitem>
          <para>模块化配置,配置ComboBox各个模块的信息。RIA组件的属性按模块化配置,具体模块在本手册有介绍。</para>

          <programlisting> &lt;div dojoType="unieap.form.ComboBox"
          popup="{height:'500px'}"<co id="spopup"></co>
          dataProvider="{store:'myStore'}"<co id="sdataprovider"></co>&gt;&lt;/div&gt; </programlisting>

          <calloutlist>
            <callout arearefs="spopup">
              <para>配置弹出模块的相关的信息</para>
            </callout>

            <callout arearefs="sdataprovider">
              <para>配置数据源相关的信息</para>
            </callout>
          </calloutlist>
        </listitem>

        <listitem>
          <para>创建数据源</para>

          <para><programlisting> &lt;script type="text/javascript"&gt;
 dojo.require("unieap.ds");<co id="sds"></co> 
 var store=new unieap.ds.DataStore('myStore<co id="sstorename"></co>',[
     {CODEVALUE: 11, CODENAME: '浙江' },
     { CODEVALUE: 12, CODENAME: '辽宁'<co id="sdata"></co> }
   ]); 
dataCenter.addDataStore(store);<co id="sdcenter"></co>
unieap.debug(dataCenter);
&lt;/script&gt; 
</programlisting> <calloutlist>
              <callout arearefs="sds">
                <para>引用数据类</para>
              </callout>

              <callout arearefs="sstorename">
                <para>数据源的名称 与dataProvider="{store:'myStore'}"配置一致</para>
              </callout>

              <callout arearefs="sdata">
                <para>数据源有两条数据,每条数据有两个字段。</para>
              </callout>

              <callout arearefs="sdcenter">
                <para>将数据源增加到数据中。</para>
              </callout>
            </calloutlist></para>
        </listitem>

        <listitem>
          <para>完整代码:</para>

          <programlisting>&lt;script type="text/javascript"&gt;
    dojo.require("unieap.ds"); 
    dojo.require("unieap.form.Button");
    var store=new unieap.ds.DataStore('myStore',[
        {CODEVALUE: 11, CODENAME: '浙江' },
        { CODEVALUE: 12, CODENAME: '辽宁' }
    ]); 
    dataCenter.addDataStore(store);

    function destroyWidget(){
       unieap.byId("box")&amp;&amp;unieap.byId("box").destroy();<co id="destroy_widget"></co>
    }
&lt;/script&gt;

&lt;div dojoType="unieap.form.ComboBox" popup="{height:'500px'}" id="box" dataProvider="{store:'myStore'}"&gt;&lt;/div&gt; 

&lt;div dojoType="unieap.form.Button" label="销毁下拉框控件"  onClick="destroyWidget" style="margin-left:10px"&gt;&lt;/div&gt;

</programlisting>

          <calloutlist>
            <callout arearefs="destroy_widget" audience="">
              <para>每一个RIA UI控件都有destroy方法，用来销毁控件</para>
            </callout>
          </calloutlist>
        </listitem>
      </itemizedlist>

      <para>至此一个包含数据源的ComboBox创建完毕。</para>

      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="images/form/combo.png"></imagedata>
        </imageobject>
      </mediaobject>
    </section>
  </section>
</chapter>
