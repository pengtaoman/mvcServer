<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>grid</title>
        <style>
            @import "../../../../themes/default/css/unieap.css";
        </style>
    </head>
    <script type="text/javascript" src="../../../../../dojo/dojo.js" djConfig="parseOnLoad:true,isDebug: false">
    </script>
    <script>
    	dojo.require("unieap.rpc");
		dojo.require("unieap.grid.Grid");
        var ds = new unieap.ds.DataStore('demo', [{
            id: '1',
            label: '33',
            address: '辽宁大连',
            zip: '116085',
            nation: '中国'
        }, {
            id: '2',
            label: '333',
            address: '湖北仙桃',
            zip: '433003',
            nation: '中国'
        }, {
            id: '3',
            label: '3333',
            address: '湖南长沙',
            zip: '433000',
            nation: '中国'
        }, {
            id: '1',
            label: '333',
            address: '辽宁大连',
            zip: '116085',
            nation: '中国'
        }, {
            id: '2',
            label: '33',
            address: '湖北仙桃',
            zip: '433003',
            nation: '中国'
        }, {
            id: '3',
            label: '33',
            address: '湖南长沙',
            zip: '433000',
            nation: '中国'
        }, {
            id: '1',
            label: '33',
            address: '辽宁大连',
            zip: '116085',
            nation: '中国'
        }, {
            id: '2',
            label: '33',
            address: '湖北仙桃',
            zip: '433003',
            nation: '中国'
        }, {
            id: '3',
            label: '33',
            address: '湖南长沙',
            zip: '433000',
            nation: '中国'
        }, {
            id: '1',
            label: '33',
            address: '辽宁大连',
            zip: '116085',
            nation: '中国'
        }, {
            id: '2',
            label: '33',
            address: '湖北仙桃',
            zip: '433003',
            nation: '中国'
        }, {
            id: '3',
            label: '33',
            address: '湖南长沙',
            zip: '433000',
            nation: '中国'
        }, {
            id: '1',
            label: '33',
            address: '辽宁大连',
            zip: '116085',
            nation: '中国'
        }, {
            id: '2',
            label: '33',
            address: '湖北仙桃',
            zip: '433003',
            nation: '中国'
        }, {
            id: '3',
            label: '33',
            address: '湖南长沙',
            zip: '433000',
            nation: '中国'
        }, {
            id: '1',
            label: '33',
            address: '辽宁大连',
            zip: '116085',
            nation: '中国'
        }, {
            id: '2',
            label: '33',
            address: '湖北仙桃',
            zip: '433003',
            nation: '中国'
        }, {
            id: '3',
            label: '33333',
            address: '湖南长沙',
            zip: '433000',
            nation: '中国'
        }]);
        dataCenter.addDataStore(ds)
        
        
        function fn1(){
            var binding = unieap.byId('grid').getBinding();
            var s = binding.sum('id')||'';
            var s1 = binding.max('id')
			var s2 = binding.min('id')
            s = '小计:' + s;
            s1 = '最大值:' + s1;
			s2='最小值:'+s2
            return [{
                'id': s,
                label: '自定义名称'
            }, {
                'id': s1
            },{
				'id':s2
			}]
        }
        
    </script>
    <body class="unieap">
        <div dojoType='unieap.grid.Grid' id='grid' binding="{store:'demo'}" width='800px' filter="{}" views="{rowBar:true,rowNumber:true}" edit="{editType:'cellEdit'}" lockedRow="{getLockedRow:fn1,statistics:[{id:'max',label:'max'},{id:'min'},{id:'sum'}]}">
            <fixed>
                <cell name='zip' label='邮编'>
                </cell>
            </fixed>
            <header>
                <cell name='id' label='编号' editor="{editorClass:'unieap.form.TextBox'}">
                </cell>
                <cell name='label' label='名称'>
                </cell>
                <cell name='address' label='地址'>
                </cell>
                <cell name='nation' label='国籍'>
                </cell>
            </header>
        </div>
    </body>
	
	<p style='font-size:15px;margin-top:10px'>
		操作说明:点击"编号"列就可以对控件进行编辑,编辑后,锁定列的内容会发生变化(最大值、最小值等)
	</p>
	
</html>
