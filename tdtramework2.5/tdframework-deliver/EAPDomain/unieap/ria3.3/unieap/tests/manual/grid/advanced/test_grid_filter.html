<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>grid</title>
	<style>
		@import "../../../../themes/default/css/unieap.css";
	</style>
        <script type="text/javascript" src="../../../../../dojo/dojo.js" djConfig="parseOnLoad:true,isDebug: true">
        </script>
        <script type="text/javascript" src="../data.js">
        </script>
        <script type="text/javascript">
            dojo.require("unieap.layout.TitlePane");
            dojo.require("unieap.form.Button");
            dojo.require("unieap.form.TextBox");
            dojo.require("unieap.grid.Grid");
			
			function fn(){
				dojo.require('unieap.menu.Menu');
				if(!this.demoItem){
					this.demoItem=new unieap.menu.MenuItem({label:'自定义的菜单项',onClick:dojo.hitch(this,function(){
						console.info('当前列的列名为:'+this.getCell().label)
						dijit.popup.close(this.menu);
					})});
					this.menu.addChild(this.demoItem);
				}
				return true;
			}
        </script>
    </head>
    <body class="unieap">
        <div dojoType="unieap.layout.TitlePane" title="不带过滤逻辑,所有列可以过滤,设置filter={}" open='false'>
            <div dojoType="unieap.grid.Grid" 
				filter="{}" width="100%" height="250px" 
				binding="{store:'empFilterDataStore'}" 
				>
                <fixed>
                    <cell label="员工编号" width="150" name="attr_empno">
                    </cell>
                </fixed>
                <header>
                    	<cell  label="姓名" name="NAME" width="150" headerStyles="text-align: left;">
                        </cell>
						<cell   label="日期" name="attr_hiredate" displayFormatter="{declaredClass:'unieap.form.DateDisplayFormatter',dataFormat:'yyyy-MM-dd HH:mm:ss'}">
                        </cell>
                        <cell label="工资" width="250" name="attr_sal">
                        </cell>
                        <cell label="职务" width="300" name="attr_job">
                        </cell>
                </header>
            </div>
        </div>
        <div dojoType="unieap.layout.TitlePane" title="只有员工编号可以过滤,设置filter={include:['attr_empno']}" open='false'>
            <div dojoType="unieap.grid.Grid" 
				filter="{include:['attr_empno']}" width="100%" height="250px" 
				binding="{store:'empFilterDataStore'}" 
				>
                <fixed>
                    <cell label="员工编号" width="150" name="attr_empno">
                    </cell>
                </fixed>
                <header>
                    	<cell  label="姓名" name="NAME" width="150" headerStyles="text-align: left;">
                        </cell>
						<cell   label="日期" name="attr_hiredate" displayFormatter="{declaredClass:'unieap.form.DateDisplayFormatter',dataFormat:'yyyy-MM-dd HH:mm:ss'}">
                        </cell>
                        <cell label="工资" width="250" name="attr_sal">
                        </cell>
                        <cell label="职务" width="300" name="attr_job">
                        </cell>
                </header>
            </div>
        </div>
		
        <div dojoType="unieap.layout.TitlePane" title="出员工编号外,其他列都可以过滤,设置filter={exclude:['attr_empno']}" open='false'>
            <div dojoType="unieap.grid.Grid" 
				filter="{exclude:['attr_empno']}" width="100%" height="250px" 
				binding="{store:'empFilterDataStore'}" 
				>
                <fixed>
                    <cell label="员工编号" width="150" name="attr_empno">
                    </cell>
                </fixed>
                <header>
                    	<cell  label="姓名" name="NAME" width="150" headerStyles="text-align: left;">
                        </cell>
						<cell   label="日期" name="attr_hiredate" displayFormatter="{declaredClass:'unieap.form.DateDisplayFormatter',dataFormat:'yyyy-MM-dd HH:mm:ss'}">
                        </cell>
                        <cell label="工资" width="250" name="attr_sal">
                        </cell>
                        <cell label="职务" width="300" name="attr_job">
                        </cell>
                </header>
            </div>
        </div>

        <div dojoType="unieap.layout.TitlePane" title="自定义菜单 设置menu={onBeforeMenuClick:fn}" open='false'>
            <div dojoType="unieap.grid.Grid" 
				menu="{onBeforeMenuClick:fn}" width="100%" height="250px" 
				binding="{store:'empFilterDataStore'}" 
				>
                <fixed>
                    <cell label="员工编号" width="150" name="attr_empno">
                    </cell>
                </fixed>
                <header>
                    	<cell  label="姓名" name="NAME" width="150" headerStyles="text-align: left;">
                        </cell>
						<cell   label="日期" name="attr_hiredate" displayFormatter="{declaredClass:'unieap.form.DateDisplayFormatter',dataFormat:'yyyy-MM-dd HH:mm:ss'}">
                        </cell>
                        <cell label="工资" width="250" name="attr_sal">
                        </cell>
                        <cell label="职务" width="300" name="attr_job">
                        </cell>
                </header>
            </div>
        </div>
    </body>
</html>
