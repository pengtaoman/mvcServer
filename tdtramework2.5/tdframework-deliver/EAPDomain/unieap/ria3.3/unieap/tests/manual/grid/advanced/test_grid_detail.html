<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>grid</title>
		<style>
			@import "../../../../themes/default/css/unieap.css";
		</style>
        <script type="text/javascript" src="../../../../../dojo/dojo.js" djConfig="parseOnLoad:false,isDebug: true">
        </script>
        <script type="text/javascript" src="../data.js">
        </script>
        <script>
            function getMasterDetail(){
                var grid = new unieap.grid.Grid({
                    layout: {
                        structure: [{
                            rows: [[{
                                label: "员工编号",
                                name: "attr_empno",
                                width: "150px",
                                editor: {
                                    editorClass: 'unieap.form.TextBox'
                                }
                            }, {
                                label: "员工姓名",
                                name: "NAME",
                                width: "150px",
                                editor: {
                                    editorClass: 'unieap.form.TextBox'
                                }
                            }]]
                        }]
                    },
                    edit: {
                        editType: 'rowEdit',
                        singleClickEdit: false
                    },
                    binding: {
                        store: 'empDataStore'
                    },
                    height: '145px',
                    width: '316px'
                });
                return grid.domNode;
            }
        </script>
        <script type="text/javascript">
            dojo.require("unieap.layout.TitlePane");
            dojo.require("unieap.form.Button");
            dojo.require("unieap.form.TextBox");
            dojo.require("unieap.grid.Grid");
            dojo.addOnLoad(function(){
                var date1 = new Date();
                dojo.parser.parse();
                dojo.byId('time').innerHTML = "花时 " + ((new Date()) - date1);
            })
        </script>
    </head>
    <body class="unieap">
        <h1 id='time'></h1>
        <div jsId='grid' dojoType="unieap.grid.Grid" detail='{expandAll:false,getMasterDetail:getMasterDetail}' width="100%" height="350px" binding="{store:'empLockDataStore'}" views="{rowBar:true}">
            <fixed>
                <cell label="员工编号" width="150" name="attr_empno">
                </cell>
            </fixed>
            <header>
                <row>
                    <cell label="姓名" name="NAME" width="150" headerStyles="text-align: left;">
                    </cell>
                    <cell label="日期" name="attr_hiredate" displayFormatter="{declaredClass:'unieap.form.DateDisplayFormatter',dataFormat:'yyyy-MM-dd HH:mm:ss'}">
                    </cell>
                    <cell label="工资" width="250" name="attr_sal">
                    </cell>
                    <cell label="职务" width="300" name="attr_job">
                    </cell>
                </row>
            </header>
        </div>
    </body>
</html>
